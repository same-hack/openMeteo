<div id="map" style="height: 100vh; width: 100%"></div>

<div
  style="
    position: fixed;
    left: 12px;
    top: 12px;
    z-index: 9999;
    background: rgba(255, 255, 255, 0.95);
    padding: 12px 14px;
    border-radius: 10px;
    font:
      14px system-ui,
      -apple-system,
      Segoe UI,
      Roboto,
      sans-serif;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
    min-width: 260px;
  "
>
  <div style="font-weight: 700; margin-bottom: 8px">中心の天気（Open-Meteo）</div>

  @if (centerLoading) {
    <div>取得中…</div>
  }

  @if (centerError) {
    <div style="color: #b00020">{{ centerError }}</div>
  }

  @if (centerWeather) {
    <div><strong>天気:</strong> {{ centerWeatherText }}</div>
    <div>
      <strong>気温:</strong> {{ centerWeather.current?.temperature_2m }}
      {{ centerWeather.current_units?.temperature_2m ?? '°C' }}
    </div>
    <div>
      <strong>風速:</strong> {{ centerWeather.current?.wind_speed_10m }}
      {{ centerWeather.current_units?.wind_speed_10m ?? 'km/h' }}
    </div>

    <div style="margin-top: 8px; font-size: 12px; color: #666">
      {{ centerWeather.current?.time }}
    </div>
    <div style="margin-top: 4px; font-size: 12px; color: #777">
      center: {{ centerWeather.latitude.toFixed(5) }}, {{ centerWeather.longitude.toFixed(5) }}
    </div>

    <div style="margin-top: 6px; font-size: 12px; color: #999">zoom: {{ currentZoom }}</div>
  }
</div>
